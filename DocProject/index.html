<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Docu Luipy</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">Welcome</a></li>
							<li><a href="#one">JS Bot</a></li>
							<li><a href="#two">CV Virtual</a></li>
							<li><a href="#three">MC Server</a></li>
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>Bienvenido</h1>
							 <p>Aquí podrás encontrar el índice de la documentación <!--<a href="http://html5up.net">HTML5 UP</a>--><br /> 
							y un resumen de la misma.<!--<a href="http://html5up.net/license">Creative Commons</a>--></p>
							<ul class="actions">
								<li><a href="#one" class="button scrolly">Vamos</a></li>
							</ul>
						</div>
					</section>

				<!-- One -->
					<section id="one" class="wrapper style2 spotlights">
						<div class="inner">
						<h1>Bot para Minecraft con "Mineflayer"</h1>
						<p>Para poder crear nuestro propio bot de Minecraft, primero deberemos decidir en qué lenguaje lo crearemos, en este caso será en javascript utilizando la librería "mineflayer", una herramienta muy potente que además funciona en las últimas versiones</p>
						<h3>Para empezar a usarlo deberemos instalar las dependencias necesarias:</h3>
						<ul>
							<li>Instalar Node.js y npm</li>
							<li>Descargar la librería mineflayer</li>
							<li>Un servidor de Minecraft donde ejecutarlo</li>
							<li>Un cliente de Minecraft para confirmar su correcto funcionamiento</li>
						</ul>
						<h3>Para instalar Node.js y npm en Ubuntu:</h3>
						<pre style="margin-bottom: 30px; margin-top: 30px;"><code class="language-bash">
# Actualizar la lista de paquetes
sudo apt update

# Instalar Node.js y npm
sudo apt install nodejs npm

# Verificar la instalación de Node.js y npm
node -v
npm -v
						</code></pre>
						<h3>Continuaremos con la instalación de mineflayer</h3>
						<pre style="margin-bottom: 30px; margin-top: 30px;"><code class="language-bash">
npm install mineflayer
						</code></pre>
						<h3>Para lanzar el bot, deberémos usar el siguiente comando</h3>
						<pre style="margin-bottom: 30px; margin-top: 30px;"><code class="language-bash">
node bot.js
						</code></pre>
						<h4>En caso de que npm o node no funcionen, reinicia la shell o sigue los pasos que se te han indicado en la terminal al instalar las dependencias</h4>
						<h3>A continuación un ejemplo de un bot que se conecta al servidor especificado si este está en la versión 1.8.8-1.20.4.</h3>
						<pre style="margin-bottom: 30px; margin-top: 30px;"><code class="language-javascript">
// bot.js
const gamemodeS = ["creative","spectator","survival","adventure"]
const traduccionDeHoras = {
	'noche': 'night',
	'día': 'day'
};

const mineflayer = require('mineflayer');
//const axios = require('axios');

const bot = mineflayer.createBot({
	host: 'mc2.ldeluipy.es', //Cambia esto a la IP de tu servidor
	port: 25565,       //Cambia esto al puerto de tu servidor
	username: 'J.A.R.V.I.S.', //Nombre del bot
	//version: '1.7.5' //Forzar versión
});

const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
var  isDigging = false;

async function dig() {
	if (!isDigging) return
	const block = bot.blockAtCursor(4);

	if (!block) {
		await sleep(100);
	} else {
		await bot.dig(block, "ignore", "raycast"); //2nd param: true to 'snap at block' or 'ignore' to just not turn head
	}
	
	dig()
}

//Función para dropear
async function dropOneStack(bot) {
	const items = bot.inventory.items();
	if (items.length > 0) {
		const itemToDrop = items[0];
		await bot.tossStack(itemToDrop);
		console.log(`Dropped ${itemToDrop.name}`);
	} else {
		console.log("El inventario del bot está vacío.");
	}
}

//Comenzar con el bulce de mensajes
bot.on('chat', (username, message) => {
	if (username === bot.username) return; //No responder a sí mismo
	console.log(`${username}: ${message}`);
	message = message.toLowerCase();

	//Forzar a que sólo lea a un jugador
	if (username === 'Luipy') {

		//Cambio de hora
		if (message.includes('jarvis haz que sea de')) {
			let time = message.split(' ').pop();
			//let conditionTrue = false;

			if (traduccionDeHoras.hasOwnProperty(time)){
				bot.chat(`/time set ${traduccionDeHoras[time]}`);
			}else{
				bot.chat(`Lo siento ${username}, no entiendo qué quieres decir con "${time}".`);
				return;
			}
			bot.chat(`Por supuesto ${username}.`);
		}

		//Cambio de gamemode
		if (message.includes('jarvis ponme en') || (message.includes('jarvis ponte en'))) {
			let gamemode = message.split(' ').pop();
			if (gamemodeS.includes(gamemode)){
				bot.chat(`Por supuesto ${username}.`);
				if (message.includes('jarvis ponte en')) {
					bot.chat(`/gamemode ${gamemode} ${bot.username}`);
				}else{
					bot.chat(`/gamemode ${gamemode} ${username}`);
				}
			}else{
				bot.chat(`Lo lamento ${username}, pero no te he entendido`);
			}
		}

		//Cambio de weather
		if (message.includes('jarvis quita la lluvia')) {
			bot.chat(`Por supuesto ${username}, la lluvia siempre me da lag.`);
			bot.chat(`/weather clear`)
		}

		//tp
		if (message.includes('jarvis llévame con')) {
			let user = message.split(' ').pop();
			bot.chat(`Por supuesto ${username}, ahora te llevo.`);
			bot.chat(`/tp ${username} ${user}`);
		}

		//Traer a jarvis a ti
		if (message.includes('jarvis ven')) {
			bot.chat(`Ya estoy aquí ${username}!`);
			bot.chat(`/tp ${bot.username} ${username}`);
		}

		//Número aleatorio
		if (message.includes('jarvis dime un número')) {
			let arrayPalabras = message.split(' ');
			let max = arrayPalabras[arrayPalabras.length - 1]
			let min = arrayPalabras[arrayPalabras.length - 3]
			let numeroAleatorio = Math.floor(Math.random() * (max - min + 1));
			bot.chat(`Oido ${username}! Elijo el ${numeroAleatorio}.`);
		}

		//Cambiar color tag SIN TERMINAR
		if (message.includes('jarvis ponme el nombre')) {
			let color = message.split(' ').pop();
			bot.chat(`/team add ${color}`);
			bot.chat(`/team modify ${color} color ${color}`);
			bot.chat(`/team join ${color} ${username}`);
			bot.chat(`Claro ${username}! Ahí lo tienes.`);
		}

		//Give items SIN TERMINAR
		if (message.includes('jarvis dame')) {
			let arrayPalabras = message.split(' ');
			let item = arrayPalabras[arrayPalabras.length - 1];
			let num = arrayPalabras[arrayPalabras.length - 3];
			bot.chat(`/give ${username} ${item} ${num}`);
			bot.chat(`Claro ${username}! Ahí lo tienes.`);
		}

		//Borrar inventario
		if (message.includes('jarvis límpiame el inventario')) {
			bot.chat(`/clear ${username}`);
			bot.chat(`Sí ${username}! No tienes lava cerca?`);
		}

		//Pícame esta
		if (message.includes('jarvis empieza a picar')) {
			bot.chat("Estoy picando!");
			bot.chat("/gamemode survival");
			isDigging = true;
			dig();
		}

		//Parar de picar
		if (message.includes('jarvis para de picar') || message.includes('jarvis deja de picar')) {
			bot.chat("Ok, dejo de picar");
			bot.chat("/gamemode spectator");
			isDigging = false;
		}

		//jarvis dice:
		if (message.includes('jarvis di') || message.includes('jarvis ejecuta')) {
			let palabras = message.split(' ');
			let palabrasRestantes = palabras.slice(2);
			let nuevaFrase = palabrasRestantes.join(' ');
			bot.chat("Ok");
			bot.chat(`/${nuevaFrase}`);
		}

		//jarvis dropea todo:
		if (message.includes('jarvis droppea stack')) {
			bot.chat("Ok, lo lanzaré");
			dropOneStack(bot);
		}

		//jarvis dropea 1 item: SIN TERMINAR
		// if (message.includes('jarvis droppea 1')) {
		//     bot.chat("Ok, lo lanzaré");
		//     dropOneItem(bot);
		// }

		//Jarvis cambia de slot
		if (message.includes('jarvis slot')) {
			let num = message.split(' ').pop();
			bot.chat(`Oido, slot ${num} puesto`);
			bot.setQuickBarSlot(num);
		}

		//Jarvis se muere
		if (message.includes('jarvis suicidate')) {
			bot.chat(`Oh...`);
			bot.chat(`/kill`);
		}
	}
});

//Mensaje de entrada de un jugador
// bot.on('playerJoined', (player) => {
//     console.log(`${player.username} joined the game`);
//     //appendToLogFile(`${player.username} ha entrado al juego`);
// });

//Mensaje de salida de un jugador
bot.on('playerLeft', (player) => {
	console.log(`${player.username} left the game`);
	//appendToLogFile(`${player.username} ha salido del juego`);
});

bot.on('kicked', (reason, loggedIn) => {
	console.log(`El bot ha sido expulsado. Razón: ${reason}. Logueado: ${loggedIn}`);
});


//bot.on('error', (err) => console.error('Bot error:', err));
//bot.on('end', () => console.log('Bot disconnected'));


//El bot caza todos los mensajes del chat, para un fácil tratamiento de ellos,
//se pueden enviar directamente a un archivo de texto al lanzar el bot:
//node bot.js >> ~/mcBot/chatLog.txt
						</code></pre>
						</div>
					</section>

						<!-- <section>
							<a href="#" class="image"><img src="images/pic01.jpg" alt="" data-position="center center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Sed ipsum dolor</h2>
									<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus.</p>
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn more</a></li>
									</ul>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic02.jpg" alt="" data-position="top center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Feugiat consequat</h2>
									<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus.</p>
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn more</a></li>
									</ul>
								</div>
							</div>
						</section> -->
						<!-- <section>
							<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
							<div class="content">
								<div class="inner">
									<h2>Ultricies aliquam</h2>
									<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus.</p>
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn more</a></li>
									</ul>
								</div>
							</div>
						</section> -->
					

				<!-- Two -->
					<section id="two" class="wrapper style3 fade-up">
						<div class="inner">
							<h1>Ejemplo de Curriculum Virtual <a href="https://luipy56.github.io/LdeLuipy/CVVirtual/" class="underline" target="_blank">Clíckame!</a></h1>
							<p>Insertar cantidades industriales de texto.</p>







							
							<!-- <h2>What we do</h2>
							<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus, lacus eget hendrerit bibendum, urna est aliquam sem, sit amet imperdiet est velit quis lorem.</p>
							<div class="features">
								<section>
									<span class="icon solid major fa-code"></span>
									<h3>Lorem ipsum amet</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
								<section>
									<span class="icon solid major fa-lock"></span>
									<h3>Aliquam sed nullam</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
								<section>
									<span class="icon solid major fa-cog"></span>
									<h3>Sed erat ullam corper</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
								<section>
									<span class="icon solid major fa-desktop"></span>
									<h3>Veroeros quis lorem</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
								<section>
									<span class="icon solid major fa-link"></span>
									<h3>Urna quis bibendum</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
								<section>
									<span class="icon major fa-gem"></span>
									<h3>Aliquam urna dapibus</h3>
									<p>Phasellus convallis elit id ullam corper amet et pulvinar. Duis aliquam turpis mauris, sed ultricies erat dapibus.</p>
								</section>
							</div>
							<ul class="actions">
								<li><a href="generic.html" class="button">Learn more</a></li>
							</ul> -->
						</div>
					</section>

				<!-- Three -->
					<section id="three" class="wrapper style2 fade-up">
						<div class="inner">
							<h1>Instalar y Configurar Servidores de Minecraft</h1>
							<h2>Incluir mucho texto</h2>

						
							<!-- <h2>Get in touch</h2>
							<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus, lacus eget hendrerit bibendum, urna est aliquam sem, sit amet imperdiet est velit quis lorem.</p>
							<div class="split style1">
								<section>
									<form method="post" action="#">
										<div class="fields">
											<div class="field half">
												<label for="name">Name</label>
												<input type="text" name="name" id="name" />
											</div>
											<div class="field half">
												<label for="email">Email</label>
												<input type="text" name="email" id="email" />
											</div>
											<div class="field">
												<label for="message">Message</label>
												<textarea name="message" id="message" rows="5"></textarea>
											</div>
										</div>
										<ul class="actions">
											<li><a href="" class="button submit">Send Message</a></li>
										</ul>
									</form>
								</section>
								<section>
									<ul class="contact">
										<li>
											<h3>Address</h3>
											<span>12345 Somewhere Road #654<br />
											Nashville, TN 00000-0000<br />
											USA</span>
										</li>
										<li>
											<h3>Email</h3>
											<a href="#">user@untitled.tld</a>
										</li>
										<li>
											<h3>Phone</h3>
											<span>(000) 000-0000</span>
										</li>
										<li>
											<h3>Social</h3>
											<ul class="icons">
												<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
												<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
												<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
												<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
												<li><a href="#" class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
											</ul>
										</li>
									</ul>
								</section>
							</div> -->
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>


			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js"></script>

	</body>
</html>